<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Frenkie Dashboard</title>
</head>

<body>
    <h3>Dashboard</h3>
    <button class="control" data-event="stop" data-drive="S">STOP</button>
    <button class="control" data-event="forward" data-drive="U">Forward</button>
    <button class="control" data-event="back" data-drive="D">Back</button>
    <button class="control" data-event="left" data-drive="L">Left</button>
    <button class="control" data-event="right" data-drive="R">Right</button>
    <button class="control" data-event="auto"  data-drive="A">Auto</button>
    <div class="status"></div>
    <div class="log"></div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        $(function() {
            var socket = io();
            $('.control').click(function() {
                socket.emit('control', {
                    go: $(this).data('event'),
                    drive: $(this).data('drive')
                });
            });
            
            socket.on('stop', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('forward', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('back', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('left', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('right', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('auto', function (msg) {
                $('.log').html(msg);
            });
            
            socket.on('status', function (status) {
                $('.status').append('<p>' + status + '</p>');
            });
            
            
        });
    </script>
</body>

</html>